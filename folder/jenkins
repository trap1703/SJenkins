#!/bin/env groovy

node {
    deleteDir()

    checkout scm

    files = sh(returnStdout: true, script: 'ls')
    println (files)
    println "list of property files"
    p_files = files.split("\n").collect()[0,1]
    println (p_files)
    space = ' '
    kosoy ='\\'
    koma = ','
    zero = '\''
    skoba = '['
    skoba1 = ']'
    zzero = '"'
    result1 = zero +zero + zero + 'return' + skoba + kosoy + zero + p_files[0] + kosoy + zero + koma + space +  kosoy + zero + p_files[1] + kosoy + zero + skoba1 + zero +zero + zero
    println (result1)
    X_files = sh(returnStdout:true, script: "cat ${p_files[0]}")
    Y_files = X_files.split("\n").collect()
    println (Y_files)
    XX_files = sh(returnStdout:true, script: "cat ${p_files[1]}")
    YY_files = X_files.split("\n").collect()
    result1 = zero +zero + zero + 'return' + skoba + kosoy + zero + p_files[0] + kosoy + zero + koma + space +  kosoy + zero + p_files[1] + kosoy + zero + skoba1 + zero +zero + zero
    result2 = zero +zero + zero + 'if' + '(' + 'files.equals' + '(' + zzero + p_files[0] + zzero + ')) {'
    result3 = 'return ' + skoba + zzero + Y_files[0] + zzero + koma + space + zzero + Y_files[1] + zzero + koma + space +zzero + Y_files[2] + zzero + ']} '
   
    result5 = 'return ' + skoba + zzero + YY_files[0] + zzero + koma + space + zzero + Y_files[1] + zzero + koma + space +zzero + YY_files[2] + zzero + ']}' + zero +zero + zero
    
    
    result22 = result2 + result3 + resul4 + result5
    println (result2)
    println (result3)
    println (result4)
    println (result5)
    println (result22)
    
    println (p_files[0])
    println (p_files[1])
    X_files = sh(returnStdout:true, script: 'cat file2')
    Y_files = X_files.split("\n").collect()
    println (Y_files)
   
      sh 'echo Welcome to IT!'

}
